{"ast":null,"code":"import { fetchStudents, fetchSingleStudent, removeStudent, editStudent, createStudent } from \"../../Services/Students_Services\";\nimport { GET_STUDENTS, DELETE_STUDENT, UPDATE_STUDENT, SAVE_STUDENT, GET_STUDENT } from \"../Action_Constants\";\nimport { _saveStudents, _saveStudent, setLoading, studentCreated } from \"../Slices/Students\";\nimport { takeLatest, put, call } from \"redux-saga/effects\";\nimport { toast } from \"react-toastify\";\nimport { store } from \"../Store\";\nfunction* getStudents(action) {\n  try {\n    console.log(action, \"hfhfhhaction\");\n    const response = yield call(fetchStudents, action);\n    yield put(_saveStudents(response === null || response === void 0 ? void 0 : response.data));\n  } catch (e) {\n    var _e$response, _e$response$data, _e$response$data$erro, _e$response2, _e$response2$data;\n    toast.error((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : (_e$response$data$erro = _e$response$data.error) === null || _e$response$data$erro === void 0 ? void 0 : _e$response$data$erro[0]) || (e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message));\n    yield put(setLoading(false));\n  }\n}\nfunction* getStudent(action) {\n  try {\n    var _response$data;\n    const response = yield call(fetchSingleStudent, action.payload);\n    yield put(_saveStudent(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data));\n  } catch (e) {\n    var _e$response3, _e$response3$data, _e$response3$data$err, _e$response4, _e$response4$data;\n    toast.error((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : (_e$response3$data$err = _e$response3$data.error) === null || _e$response3$data$err === void 0 ? void 0 : _e$response3$data$err[0]) || (e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.message));\n    yield put(setLoading(false));\n  }\n}\nfunction* deleteStudent(action) {\n  try {\n    const response = yield call(removeStudent, action === null || action === void 0 ? void 0 : action.payload.clientId);\n    if (response.status === 200) {\n      store.dispatch({\n        type: GET_STUDENTS,\n        payload: {\n          page: action === null || action === void 0 ? void 0 : action.payload.page,\n          rows: action === null || action === void 0 ? void 0 : action.payload.row\n        }\n      });\n    }\n  } catch (e) {\n    var _e$response5, _e$response5$data, _e$response5$data$err, _e$response6, _e$response6$data;\n    toast.error((e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : (_e$response5$data = _e$response5.data) === null || _e$response5$data === void 0 ? void 0 : (_e$response5$data$err = _e$response5$data.error) === null || _e$response5$data$err === void 0 ? void 0 : _e$response5$data$err[0]) || (e === null || e === void 0 ? void 0 : (_e$response6 = e.response) === null || _e$response6 === void 0 ? void 0 : (_e$response6$data = _e$response6.data) === null || _e$response6$data === void 0 ? void 0 : _e$response6$data.message));\n    yield put(setLoading(false));\n  }\n}\nfunction* saveStudent(action) {\n  try {\n    const response = yield call(createStudent, action);\n    if (response.status === 200) {\n      yield put(studentCreated());\n      toast.success(\"student has been saved successfully\");\n    }\n  } catch (e) {\n    var _e$response7, _e$response7$data, _e$response8, _e$response8$data, _e$response8$data$err, _e$response9, _e$response9$data;\n    console.log(\"45734t75\", e === null || e === void 0 ? void 0 : (_e$response7 = e.response) === null || _e$response7 === void 0 ? void 0 : (_e$response7$data = _e$response7.data) === null || _e$response7$data === void 0 ? void 0 : _e$response7$data.error);\n    toast.error((e === null || e === void 0 ? void 0 : (_e$response8 = e.response) === null || _e$response8 === void 0 ? void 0 : (_e$response8$data = _e$response8.data) === null || _e$response8$data === void 0 ? void 0 : (_e$response8$data$err = _e$response8$data.error) === null || _e$response8$data$err === void 0 ? void 0 : _e$response8$data$err.phone[0]) || (e === null || e === void 0 ? void 0 : (_e$response9 = e.response) === null || _e$response9 === void 0 ? void 0 : (_e$response9$data = _e$response9.data) === null || _e$response9$data === void 0 ? void 0 : _e$response9$data.message));\n    yield put(setLoading(false));\n  }\n}\nfunction* updateStudent(action) {\n  try {\n    const response = yield call(editStudent, action);\n    console.log(action, \"action of student update\");\n    if (response.status === 200) {\n      yield put(studentCreated());\n      toast.success(\"client has been updated successfully\");\n      store.dispatch({\n        type: GET_STUDENTS\n      });\n    }\n  } catch (e) {\n    var _e$response10, _e$response10$data, _e$response10$data$er, _e$response11, _e$response11$data;\n    toast.error((e === null || e === void 0 ? void 0 : (_e$response10 = e.response) === null || _e$response10 === void 0 ? void 0 : (_e$response10$data = _e$response10.data) === null || _e$response10$data === void 0 ? void 0 : (_e$response10$data$er = _e$response10$data.error) === null || _e$response10$data$er === void 0 ? void 0 : _e$response10$data$er[0]) || (e === null || e === void 0 ? void 0 : (_e$response11 = e.response) === null || _e$response11 === void 0 ? void 0 : (_e$response11$data = _e$response11.data) === null || _e$response11$data === void 0 ? void 0 : _e$response11$data.message));\n    yield put(setLoading(false));\n  }\n}\nexport function* studentsSaga() {\n  yield takeLatest(GET_STUDENTS, getStudents);\n  yield takeLatest(DELETE_STUDENT, deleteStudent);\n  yield takeLatest(SAVE_STUDENT, saveStudent);\n  yield takeLatest(UPDATE_STUDENT, updateStudent);\n  yield takeLatest(GET_STUDENT, getStudent);\n}","map":{"version":3,"names":["fetchStudents","fetchSingleStudent","removeStudent","editStudent","createStudent","GET_STUDENTS","DELETE_STUDENT","UPDATE_STUDENT","SAVE_STUDENT","GET_STUDENT","_saveStudents","_saveStudent","setLoading","studentCreated","takeLatest","put","call","toast","store","getStudents","action","console","log","response","data","e","error","message","getStudent","payload","deleteStudent","clientId","status","dispatch","type","page","rows","row","saveStudent","success","phone","updateStudent","studentsSaga"],"sources":["/Users/zestgeek3/work/invocenew/src/Store/Sagas/Students.js"],"sourcesContent":["import { fetchStudents, fetchSingleStudent, removeStudent, editStudent, createStudent } from \"../../Services/Students_Services\";\nimport { GET_STUDENTS, DELETE_STUDENT, UPDATE_STUDENT, SAVE_STUDENT,GET_STUDENT } from \"../Action_Constants\";\nimport { _saveStudents, _saveStudent, setLoading, studentCreated } from \"../Slices/Students\";\n  import { takeLatest, put, call } from \"redux-saga/effects\";\n  import { toast } from \"react-toastify\";\n  import { store } from \"../Store\";\n  \n  function* getStudents(action) {\n    try {\n      console.log(action, \"hfhfhhaction\");\n      const response = yield call(fetchStudents, action);\n      yield put(_saveStudents(response?.data));\n    } catch (e) {\n      toast.error(e?.response?.data?.error?.[0] || e?.response?.data?.message);\n      yield put(setLoading(false));\n    }\n  }\n  \n  function* getStudent(action) {\n    try {\n      const response = yield call(fetchSingleStudent, action.payload);\n      yield put(_saveStudent(response?.data?.data));\n    } catch (e) {\n      toast.error(e?.response?.data?.error?.[0] || e?.response?.data?.message);\n      yield put(setLoading(false));\n    }\n  }\n  \n  function* deleteStudent(action) {\n    try {\n      const response = yield call(removeStudent, action?.payload.clientId);\n      if (response.status === 200) {\n        store.dispatch({\n          type: GET_STUDENTS,\n          payload: {\n            page: action?.payload.page,\n            rows: action?.payload.row,\n          },\n        });\n      }\n    } catch (e) {\n      toast.error(e?.response?.data?.error?.[0] || e?.response?.data?.message);\n      yield put(setLoading(false));\n    }\n  }\n  \n  function* saveStudent(action) {\n    try {\n      const response = yield call(createStudent, action);\n      if (response.status === 200) {\n        yield put(studentCreated());\n        toast.success(\"student has been saved successfully\");\n      }\n    } catch (e) {\n      console.log(\"45734t75\",e?.response?.data?.error)\n      toast.error(e?.response?.data?.error?.phone[0] || e?.response?.data?.message);\n      yield put(setLoading(false));\n    }\n  }\n  \n  function* updateStudent(action) {\n    try {\n      const response = yield call(editStudent, action);\n      console.log(action,\"action of student update\")\n      if (response.status === 200) {\n        yield put(studentCreated());\n        toast.success(\"client has been updated successfully\");\n        store.dispatch({\n          type: GET_STUDENTS,\n        });\n      }\n    } catch (e) {\n      toast.error(e?.response?.data?.error?.[0] || e?.response?.data?.message);\n      yield put(setLoading(false));\n    }\n  }\n  \n  export function* studentsSaga() {\n    yield takeLatest(GET_STUDENTS, getStudents);\n    yield takeLatest(DELETE_STUDENT, deleteStudent);\n    yield takeLatest(SAVE_STUDENT, saveStudent);\n    yield takeLatest(UPDATE_STUDENT, updateStudent);\n    yield takeLatest(GET_STUDENT, getStudent);\n  }\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}