{"ast":null,"code":"import axios from \"axios\";\nexport const AXIOS = axios.create({\n  baseURL: \"https://dev.zestgeek.com/zestgeek-course-invoices/public/api/\"\n});\nAXIOS.interceptors.request.use(request => {\n  const AUTH_TOKEN = localStorage.getItem(\"token\");\n  if (AUTH_TOKEN) {\n    request.headers.Authorization = AUTH_TOKEN;\n  }\n  return request;\n}, error => {\n  return Promise.reject(error);\n});\nAXIOS.interceptors.response.use(response => {\n  if (response.status === 200) return response;\n}, error => {\n  var _error$response;\n  if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 498) {\n    localStorage.clear();\n    return \"token expired\";\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","AXIOS","create","baseURL","interceptors","request","use","AUTH_TOKEN","localStorage","getItem","headers","Authorization","error","Promise","reject","response","status","clear"],"sources":["/Users/zestgeek3/work/invocenew/src/Services/Setup.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const AXIOS = axios.create({\n  baseURL: \"https://dev.zestgeek.com/zestgeek-course-invoices/public/api/\",\n});\n\nAXIOS.interceptors.request.use(\n  (request) => {\n    const AUTH_TOKEN = localStorage.getItem(\"token\");\n    if (AUTH_TOKEN) {\n      request.headers.Authorization = AUTH_TOKEN;\n    }\n    return request;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nAXIOS.interceptors.response.use(\n  (response) => {\n    if (response.status === 200) return response;\n  },\n  (error) => {\n    if (error?.response?.status === 498) {\n      localStorage.clear();\n      return \"token expired\";\n    }\n    return Promise.reject(error);\n  }\n);\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAAC;EAChCC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFF,KAAK,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3BD,OAAO,IAAK;EACX,MAAME,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAChD,IAAIF,UAAU,EAAE;IACdF,OAAO,CAACK,OAAO,CAACC,aAAa,GAAGJ,UAAU;EAC5C;EACA,OAAOF,OAAO;AAChB,CAAC,EACAO,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAEDX,KAAK,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC5BS,QAAQ,IAAK;EACZ,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE,OAAOD,QAAQ;AAC9C,CAAC,EACAH,KAAK,IAAK;EAAA;EACT,IAAI,CAAAA,KAAK,aAALA,KAAK,0CAALA,KAAK,CAAEG,QAAQ,oDAAf,gBAAiBC,MAAM,MAAK,GAAG,EAAE;IACnCR,YAAY,CAACS,KAAK,EAAE;IACpB,OAAO,eAAe;EACxB;EACA,OAAOJ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF"},"metadata":{},"sourceType":"module"}